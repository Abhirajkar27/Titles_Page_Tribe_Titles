import React, { useContext } from "react";
import "./Boxes.css";
import { TBHContext } from "../context/context";
const Boxes = (props) => {
  const { tbhQuesState, handleVoteTitle } = useContext(TBHContext);
  const yes = window.matchMedia("(min-height: 745px)").matches;

  if (!tbhQuesState.OptionInfo || tbhQuesState.OptionInfo.length === 0) {
    return <p>Loading...</p>;
  }
  const colors = [
    { fill: "#008A4A", bg: "#36FFA1" },
    { fill: "#5929E0", bg: "#B398FF" },
    { fill: "#744C00", bg: "#FCFF40" },
    { fill: "#008181", bg: "#64FFFF" },
  ];
  return (
    <div className="main-box-pg1">
      {tbhQuesState.OptionInfo.map((option, index) => (
        <svg
          key={option._id}
          width="111"
          height={`${yes ? "105" : "12vh"}`}
          viewBox="0 0 111 104"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          onClick={() => {
            handleVoteTitle(tbhQuesState.OptionInfo[0]._id);
            props.onLastVote();
          }}
          className="grid-item"
          //   xmlns:xlink="http://www.w3.org/1999/xlink"
        >
          <mask id="path-1-inside-1_451_6252" fill="white">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M16.5 6C7.66344 6 0.5 13.1634 0.5 22V63L6 64L0.5 64.75V88C0.5 96.8366 7.66344 104 16.5 104H18.625L23 99L27.375 104H87.2857L89 100L90.7143 104H94.5C103.337 104 110.5 96.8366 110.5 88V30.9L107.5 30L110.5 28.5V22C110.5 13.1634 103.337 6 94.5 6H16.5Z"
            />
          </mask>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M16.5 6C7.66344 6 0.5 13.1634 0.5 22V63L6 64L0.5 64.75V88C0.5 96.8366 7.66344 104 16.5 104H18.625L23 99L27.375 104H87.2857L89 100L90.7143 104H94.5C103.337 104 110.5 96.8366 110.5 88V30.9L107.5 30L110.5 28.5V22C110.5 13.1634 103.337 6 94.5 6H16.5Z"
            fill={colors[index].bg}
          />
          <path
            d="M0.5 63H-0.5C-0.5 63.4833 -0.154376 63.8974 0.321115 63.9839L0.5 63ZM6 64L6.13511 64.9908C6.62227 64.9244 6.98886 64.5137 6.99975 64.0222C7.01065 63.5306 6.66262 63.1041 6.17889 63.0161L6 64ZM0.5 64.75L0.364887 63.7592C-0.130598 63.8267 -0.5 64.2499 -0.5 64.75H0.5ZM18.625 104V105C18.9134 105 19.1877 104.876 19.3776 104.659L18.625 104ZM23 99L23.7526 98.3415C23.5627 98.1245 23.2884 98 23 98C22.7116 98 22.4373 98.1245 22.2474 98.3415L23 99ZM27.375 104L26.6224 104.659C26.8123 104.876 27.0866 105 27.375 105V104ZM87.2857 104V105C87.6857 105 88.0473 104.762 88.2049 104.394L87.2857 104ZM89 100L89.9191 99.6061C89.7616 99.2384 89.4 99 89 99C88.6 99 88.2384 99.2384 88.0809 99.6061L89 100ZM90.7143 104L89.7951 104.394C89.9527 104.762 90.3143 105 90.7143 105V104ZM110.5 30.9H111.5C111.5 30.4584 111.21 30.0691 110.787 29.9422L110.5 30.9ZM107.5 30L107.053 29.1056C106.686 29.2889 106.468 29.6775 106.504 30.086C106.539 30.4945 106.82 30.84 107.213 30.9578L107.5 30ZM110.5 28.5L110.947 29.3944C111.286 29.225 111.5 28.8788 111.5 28.5H110.5ZM1.5 22C1.5 13.7157 8.21573 7 16.5 7V5C7.11116 5 -0.5 12.6112 -0.5 22H1.5ZM1.5 63V22H-0.5V63H1.5ZM6.17889 63.0161L0.678885 62.0161L0.321115 63.9839L5.82111 64.9839L6.17889 63.0161ZM0.635113 65.7408L6.13511 64.9908L5.86489 63.0092L0.364887 63.7592L0.635113 65.7408ZM1.5 88V64.75H-0.5V88H1.5ZM16.5 103C8.21573 103 1.5 96.2843 1.5 88H-0.5C-0.5 97.3888 7.11116 105 16.5 105V103ZM18.625 103H16.5V105H18.625V103ZM22.2474 98.3415L17.8724 103.341L19.3776 104.659L23.7526 99.6585L22.2474 98.3415ZM28.1276 103.341L23.7526 98.3415L22.2474 99.6585L26.6224 104.659L28.1276 103.341ZM87.2857 103H27.375V105H87.2857V103ZM88.0809 99.6061L86.3666 103.606L88.2049 104.394L89.9191 100.394L88.0809 99.6061ZM91.6334 103.606L89.9191 99.6061L88.0809 100.394L89.7951 104.394L91.6334 103.606ZM94.5 103H90.7143V105H94.5V103ZM109.5 88C109.5 96.2843 102.784 103 94.5 103V105C103.889 105 111.5 97.3888 111.5 88H109.5ZM109.5 30.9V88H111.5V30.9H109.5ZM107.213 30.9578L110.213 31.8578L110.787 29.9422L107.787 29.0422L107.213 30.9578ZM110.053 27.6056L107.053 29.1056L107.947 30.8944L110.947 29.3944L110.053 27.6056ZM109.5 22V28.5H111.5V22H109.5ZM94.5 7C102.784 7 109.5 13.7157 109.5 22H111.5C111.5 12.6112 103.889 5 94.5 5V7ZM16.5 7H94.5V5H16.5V7Z"
            fill={colors[index].fill}
            mask="url(#path-1-inside-1_451_6252)"
          />
          <mask
            id="mask0_451_6252"
            maskUnits="userSpaceOnUse"
            x="0"
            y="6"
            width="111"
            height="98"
          >
            <mask id="path-3-inside-2_451_6252" fill="white">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M16.5 6C7.66344 6 0.5 13.1634 0.5 22V63L6 64L0.5 64.75V88C0.5 96.8366 7.66344 104 16.5 104H18.625L23 99L27.375 104H87.2857L89 100L90.7143 104H94.5C103.337 104 110.5 96.8366 110.5 88V30.9L107.5 30L110.5 28.5V22C110.5 13.1634 103.337 6 94.5 6H16.5Z"
              />
            </mask>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M16.5 6C7.66344 6 0.5 13.1634 0.5 22V63L6 64L0.5 64.75V88C0.5 96.8366 7.66344 104 16.5 104H18.625L23 99L27.375 104H87.2857L89 100L90.7143 104H94.5C103.337 104 110.5 96.8366 110.5 88V30.9L107.5 30L110.5 28.5V22C110.5 13.1634 103.337 6 94.5 6H16.5Z"
              fill="#FF8AFB"
            />
            <path
              d="M0.5 63H-0.5C-0.5 63.4833 -0.154376 63.8974 0.321115 63.9839L0.5 63ZM6 64L6.13511 64.9908C6.62227 64.9244 6.98886 64.5137 6.99975 64.0222C7.01065 63.5306 6.66262 63.1041 6.17889 63.0161L6 64ZM0.5 64.75L0.364887 63.7592C-0.130598 63.8267 -0.5 64.2499 -0.5 64.75H0.5ZM18.625 104V105C18.9134 105 19.1877 104.876 19.3776 104.659L18.625 104ZM23 99L23.7526 98.3415C23.5627 98.1245 23.2884 98 23 98C22.7116 98 22.4373 98.1245 22.2474 98.3415L23 99ZM27.375 104L26.6224 104.659C26.8123 104.876 27.0866 105 27.375 105V104ZM87.2857 104V105C87.6857 105 88.0473 104.762 88.2049 104.394L87.2857 104ZM89 100L89.9191 99.6061C89.7616 99.2384 89.4 99 89 99C88.6 99 88.2384 99.2384 88.0809 99.6061L89 100ZM90.7143 104L89.7951 104.394C89.9527 104.762 90.3143 105 90.7143 105V104ZM110.5 30.9H111.5C111.5 30.4584 111.21 30.0691 110.787 29.9422L110.5 30.9ZM107.5 30L107.053 29.1056C106.686 29.2889 106.468 29.6775 106.504 30.086C106.539 30.4945 106.82 30.84 107.213 30.9578L107.5 30ZM110.5 28.5L110.947 29.3944C111.286 29.225 111.5 28.8788 111.5 28.5H110.5ZM1.5 22C1.5 13.7157 8.21573 7 16.5 7V5C7.11116 5 -0.5 12.6112 -0.5 22H1.5ZM1.5 63V22H-0.5V63H1.5ZM6.17889 63.0161L0.678885 62.0161L0.321115 63.9839L5.82111 64.9839L6.17889 63.0161ZM0.635113 65.7408L6.13511 64.9908L5.86489 63.0092L0.364887 63.7592L0.635113 65.7408ZM1.5 88V64.75H-0.5V88H1.5ZM16.5 103C8.21573 103 1.5 96.2843 1.5 88H-0.5C-0.5 97.3888 7.11116 105 16.5 105V103ZM18.625 103H16.5V105H18.625V103ZM22.2474 98.3415L17.8724 103.341L19.3776 104.659L23.7526 99.6585L22.2474 98.3415ZM28.1276 103.341L23.7526 98.3415L22.2474 99.6585L26.6224 104.659L28.1276 103.341ZM87.2857 103H27.375V105H87.2857V103ZM88.0809 99.6061L86.3666 103.606L88.2049 104.394L89.9191 100.394L88.0809 99.6061ZM91.6334 103.606L89.9191 99.6061L88.0809 100.394L89.7951 104.394L91.6334 103.606ZM94.5 103H90.7143V105H94.5V103ZM109.5 88C109.5 96.2843 102.784 103 94.5 103V105C103.889 105 111.5 97.3888 111.5 88H109.5ZM109.5 30.9V88H111.5V30.9H109.5ZM107.213 30.9578L110.213 31.8578L110.787 29.9422L107.787 29.0422L107.213 30.9578ZM110.053 27.6056L107.053 29.1056L107.947 30.8944L110.947 29.3944L110.053 27.6056ZM109.5 22V28.5H111.5V22H109.5ZM94.5 7C102.784 7 109.5 13.7157 109.5 22H111.5C111.5 12.6112 103.889 5 94.5 5V7ZM16.5 7H94.5V5H16.5V7Z"
              fill={colors[index].fill}
              mask="url(#path-3-inside-2_451_6252)"
            />
          </mask>
          <g mask="url(#mask0_451_6252)">
            <rect
              x="102"
              y="92.5"
              width="2"
              height="13"
              fill={colors[index].fill}
              stroke={colors[index].fill}
            />
            <rect
              x="39"
              y="95.5"
              width="1"
              height="13"
              fill={colors[index].fill}
              stroke={colors[index].fill}
            />
            <rect
              x="43"
              y="95.5"
              width="5"
              height="10"
              fill={colors[index].fill}
              stroke={colors[index].fill}
            />
            <rect
              x="19"
              y="91.5"
              width="3"
              height="13"
              fill={colors[index].fill}
              stroke={colors[index].fill}
            />
            <rect
              x="87.75"
              y="91.25"
              width="0.5"
              height="13.5"
              fill={colors[index].fill}
              stroke={colors[index].fill}
              stroke-width="0.5"
            />
          </g>
          <mask id="path-10-inside-3_451_6252" fill="white">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M16.5 0C7.66344 0 0.5 7.16344 0.5 16V57L6 58L0.5 58.75V82C0.5 90.8366 7.66344 98 16.5 98H18.625L23 93L27.375 98H87.2857L89 94L90.7143 98H94.5C103.337 98 110.5 90.8366 110.5 82V24.9L107.5 24L110.5 22.5V16C110.5 7.16344 103.337 0 94.5 0H16.5Z"
            />
          </mask>
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M16.5 0C7.66344 0 0.5 7.16344 0.5 16V57L6 58L0.5 58.75V82C0.5 90.8366 7.66344 98 16.5 98H18.625L23 93L27.375 98H87.2857L89 94L90.7143 98H94.5C103.337 98 110.5 90.8366 110.5 82V24.9L107.5 24L110.5 22.5V16C110.5 7.16344 103.337 0 94.5 0H16.5Z"
            fill="white"
          />
          <path
            d="M0.5 57H-0.5C-0.5 57.4833 -0.154376 57.8974 0.321115 57.9839L0.5 57ZM6 58L6.13511 58.9908C6.62227 58.9244 6.98886 58.5137 6.99975 58.0222C7.01065 57.5306 6.66262 57.1041 6.17889 57.0161L6 58ZM0.5 58.75L0.364887 57.7592C-0.130598 57.8267 -0.5 58.2499 -0.5 58.75H0.5ZM18.625 98V99C18.9134 99 19.1877 98.8755 19.3776 98.6585L18.625 98ZM23 93L23.7526 92.3415C23.5627 92.1245 23.2884 92 23 92C22.7116 92 22.4373 92.1245 22.2474 92.3415L23 93ZM27.375 98L26.6224 98.6585C26.8123 98.8755 27.0866 99 27.375 99V98ZM87.2857 98V99C87.6857 99 88.0473 98.7616 88.2049 98.3939L87.2857 98ZM89 94L89.9191 93.6061C89.7616 93.2384 89.4 93 89 93C88.6 93 88.2384 93.2384 88.0809 93.6061L89 94ZM90.7143 98L89.7951 98.3939C89.9527 98.7616 90.3143 99 90.7143 99V98ZM110.5 24.9H111.5C111.5 24.4584 111.21 24.0691 110.787 23.9422L110.5 24.9ZM107.5 24L107.053 23.1056C106.686 23.2889 106.468 23.6775 106.504 24.086C106.539 24.4945 106.82 24.84 107.213 24.9578L107.5 24ZM110.5 22.5L110.947 23.3944C111.286 23.225 111.5 22.8788 111.5 22.5H110.5ZM1.5 16C1.5 7.71573 8.21573 1 16.5 1V-1C7.11116 -1 -0.5 6.61116 -0.5 16H1.5ZM1.5 57V16H-0.5V57H1.5ZM6.17889 57.0161L0.678885 56.0161L0.321115 57.9839L5.82111 58.9839L6.17889 57.0161ZM0.635113 59.7408L6.13511 58.9908L5.86489 57.0092L0.364887 57.7592L0.635113 59.7408ZM1.5 82V58.75H-0.5V82H1.5ZM16.5 97C8.21573 97 1.5 90.2843 1.5 82H-0.5C-0.5 91.3888 7.11116 99 16.5 99V97ZM18.625 97H16.5V99H18.625V97ZM22.2474 92.3415L17.8724 97.3415L19.3776 98.6585L23.7526 93.6585L22.2474 92.3415ZM28.1276 97.3415L23.7526 92.3415L22.2474 93.6585L26.6224 98.6585L28.1276 97.3415ZM87.2857 97H27.375V99H87.2857V97ZM88.0809 93.6061L86.3666 97.6061L88.2049 98.3939L89.9191 94.3939L88.0809 93.6061ZM91.6334 97.6061L89.9191 93.6061L88.0809 94.3939L89.7951 98.3939L91.6334 97.6061ZM94.5 97H90.7143V99H94.5V97ZM109.5 82C109.5 90.2843 102.784 97 94.5 97V99C103.889 99 111.5 91.3888 111.5 82H109.5ZM109.5 24.9V82H111.5V24.9H109.5ZM107.213 24.9578L110.213 25.8578L110.787 23.9422L107.787 23.0422L107.213 24.9578ZM110.053 21.6056L107.053 23.1056L107.947 24.8944L110.947 23.3944L110.053 21.6056ZM109.5 16V22.5H111.5V16H109.5ZM94.5 1C102.784 1 109.5 7.71573 109.5 16H111.5C111.5 6.61116 103.889 -1 94.5 -1V1ZM16.5 1H94.5V-1H16.5V1Z"
            fill={colors[index].fill}
            mask="url(#path-10-inside-3_451_6252)"
          />
          <path
            d="M18.5 97.5V103.5M27.5 97.5V103.5M23 92.5V98.5M87 97.5V103M89 94V99.5M91 97.5V103.5"
            stroke={colors[index].fill}
          />
          <circle
            cx="56"
            cy="38"
            r="23.7092"
            fill="#75E9F0"
            stroke="#030406"
            stroke-width="1.5"
          />
          <mask
            id="mask1_451_6252"
            maskUnits="userSpaceOnUse"
            x="33"
            y="15"
            width="46"
            height="46"
          >
            <circle cx="56" cy="38" r="22.9592" fill="white" />
          </mask>
          <g mask="url(#mask1_451_6252)">
            <rect
              x="21"
              y="15.0001"
              width="62"
              height="70"
              fill="url(#pattern0_451_6252)"
            />
          </g>
          <text
            x="50%"
            y="75%"
            text-anchor="middle"
            dominant-baseline="middle"
            font-family="Gilroy"
            font-size="12px"
            font-weight="600"
            fill="var(--Dark-Dark--100, #0E1928)"
            className={option.name.length > 14 ? "scrolling-text-name" : ""}
          >
            {option.name}
          </text>
          <defs>
            <clipPath id="circleView">
              <circle cx="56" cy="38" r="23.7092" />
            </clipPath>
          </defs>
          <image
            href={option.profilePicture}
            x="32"
            y="15"
            width="48"
            height="48"
            clipPath="url(#circleView)"
          />

          <defs>
            <pattern
              id="pattern0_451_6252"
              patternContentUnits="objectBoundingBox"
              width="1"
              height="1"
            >
              <use
                // xlink:href="#image0_451_6252"
                transform="matrix(0.00136054 0 0 0.00120505 0 -0.163984)"
              />
            </pattern>
          </defs>
        </svg>
      ))}
    </div>
  );
};

export default Boxes;
